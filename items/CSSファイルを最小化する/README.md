#CSSファイルの容量を小さくする方法
Redditは国際掲示板でsubredditという2ちゃんねるでいうところの版に相当するものがあります。
subredditは誰でも作成が可能でCSSでデザインをいじることが可能です。
しかしRedditでは100KiBまでしかCSSファイルを作られないので、ファイルサイズを縮小する必要に迫られました。
このテクニックは人に見やすいようにすることは考えずにブラウザが解釈できる限り最小化するためのものです。
1. 最後のセミコロンは省略する - 最後は不要です。
2. 0に単位を付けない。 長さ0には単位は不要です。
3. 色は`rgb()`や`rgba()`ではなく`#RRGGBB`や`#RGB`,を使う。もしくは`white`,`blue`などの名称付きの色にする。
4. 同じプロパティの場合はカンマを使って共通化する。
5. 同じ名前を含むクラス名やID名は属性セレクタを使って共通化する。
6. クラス・ID名または要素名を省略する - どちらか一方で十分な時は省略します。
7. `font`や`background`などを一つに纏める。 - 結構効きます。
8. 他のプロパティに置き換える- `translate`を`top`と`left`に置き換える、transformをmatrix系で纏めるなど。
9. Minifierツールを使う - コメントやインデントのスペースなどを削除します。リリース用。

#1. セミコロンの省略
CSSは最後のプロパティのみ、セミコロンを省略できます。これが結構最小化のためには効いてきます。

#2. 単位の省略
`0px`や`0em`などは単位を省略できます。また0.1など0.で始まる小数も0を省略できます。

#3. `#RRGGBB`を使う
`rgb()`は`#RRGGBB`形式に変換できます。こちらのほうが16進数で表記できるので文字数を短くできます。さらに0x11の倍数の場合、`#RRGGBB`を`#RGB`と書くことが出来ます。

#4. プロパティの共通化
異なる要素やクラスでも同じプロパティを複数持っている場合は共通化してしまえます。同じものを長々と何度も書くよりも見やすくなるでしょう。

#5. クラス名の共通化
クラス名`aaa-bbb`と`aaa-ccc`があった場合、共通の部分を書く時は

```css:例1
.aaa-bbb,.aaa-ccc {
    property: value;
}
```
と書きますが、クラスも属性なので、属性セレクタを使ってこういう書き方もできます。

```css:例2
[class^="aaa-"] {
    property: value;
}
```
ただしこの書き方だと除外したいクラス`aaa-ddd`などがあった時には不具合の元になります。
全体で共通化させることが必要です。
#6. クラス・IDまたは要素を省略
そのクラス名や要素名は省略できないか考えてください。例えば、`title`クラスが全てa要素ならわざわざ`a.title`と書かず、`.title`で十分です。
もしくは、`a[href="~"]`を[href="~"]とするなど。また、ID名が決まっている時はクラス名も要素名も不要です。
#7. プロパティを一つにまとめて書く
fontやbackgroundなどのプロパティは`font-size`や`background-color`などで分けて書くことができます。これを纏めるとかなりサイズが小さくなります。ただし、下のような場合は纏めないほうが無難です。

```css:例3
.example2 {
    background-color: red;
    background-position: 10px 10px;
}

example1.example2 {
    background-image: url("://example.com/");
}
```
これは以下と等価です。

```css:例4
.example2 {
    background-color: red;
    background-position: 10px 10px;
}
.example1.exapmle2 {
    background: url("://example.com/") 10px 10px red;
}
```
このとき上も下も`background`で書くと上の`background`で指定した値が消されてしまいます。ただし、`inherit`を用いれば問題ないはずです。
#8. 他のプロパティに置き換える
置き換えられる例を紹介します。

`translate` -> `left,top`

```css:例5
element {
    translate(10px,-10px);
}
```
は此れと等価です。IE9にも対応できて幸せになります。

```css:例6
element {
    position: relative;
    left: 10px;
    top: -10px;
}
```

`transform`要素で使える関数`translate()`,`skew()`,`scale()`,`rotate()`は全て線形変換です。線形変換が何かは線形代数をやれば分かりますが、これは全て行列、もっと言えば連立一次方程式で表現が可能なので、`matrix()`で表現できます。3dの場合も同様なんですが、こっちは引数が面倒なのでやらないほうがいいかもしれません。
#9. minifierを使う
minifier(最小化)ツールを使えば自動的に無駄な空白やセミコロンやコメントを削除してくれます。
大抵はこれを利用するのが基本です。私は此れを使っています。[CSS Minifier](https://cssminifier.com/)
