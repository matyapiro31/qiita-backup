
<h1>
<span id="どうして囲む必要があるのか" class="fragment"></span><a href="#%E3%81%A9%E3%81%86%E3%81%97%E3%81%A6%E5%9B%B2%E3%82%80%E5%BF%85%E8%A6%81%E3%81%8C%E3%81%82%E3%82%8B%E3%81%AE%E3%81%8B"><i class="fa fa-link"></i></a>どうして囲む必要があるのか</h1>

<p>私も今までその必要はないと思っていました。実際多くの場合は問題ありません。<br>
しかし、悪意のあるURLを扱う可能性があれば必ず必要になります。<br>
例えばこんなのとか↓""で囲まずにうっかりroot権限でサーバの端末で打っちゃうと大変なことになります。</p>

<div class="code-frame" data-lang="bash"><div class="highlight"><pre><span class="c">#悪意しかないURL(入力するな(再起動します))</span>
wget https://example.com/?a<span class="o">=</span>1&amp;reboot
</pre></div></div>

<p>何故かというとbashでは<code>&amp;</code>を"や'で囲まずに書くとそこでコマンドの引数が終了したとみなし、バックグラウンド実行させ、&amp;以降を次のコマンドと見なすからです。他にも<code>;</code>や<code>||</code>とかあります。<br>
割とこういうことは常識ですが、Qiitaではやっていない方が多かったというか、自分も今まで気が付かなかったので書くべきかな〜と思った次第です。<br>
幸いコマンド引数を取らせる方法は思いつかなかったので、多分引数を取る必要のあるコマンドは無理ですが、それでも大変なことになると思います。</p>

<h1>
<span id="対処方法" class="fragment"></span><a href="#%E5%AF%BE%E5%87%A6%E6%96%B9%E6%B3%95"><i class="fa fa-link"></i></a>対処方法</h1>

<p>wgetやcurlコマンドを使う時、というかURLを引数に取る時は常に''で囲みましょう。""より''の方が安全です。まあコピペコード入力する時以外にはこんなコード打たないと思うので大丈夫だとは思いますけど。</p>
