<p>Dockerを使ってみた感想を素直に綴ります。</p>

<h1>
<span id="dockerはまだまだだ" class="fragment"></span><a href="#docker%E3%81%AF%E3%81%BE%E3%81%A0%E3%81%BE%E3%81%A0%E3%81%A0"><i class="fa fa-link"></i></a>Dockerはまだまだだ</h1>

<p>Dockerははっきり言って使いづらかったです。理由としては<br>
1. CLIが苦手 - コマンドラインだけで全部やっていると端末エミュレータがあふれかえってしまいました。6つほど同時に立ち上げテストしたのですが、さすがにきつかったです。byobuを使えばいいという話ですが。そもそもコマンドが効率的というのは間違ってる気がします。文字を読むのは嫌いなんです...<br>
2. ネットワークが遅い - ネットワーク接続は遅いです。<code>apt-get update</code>するだけでも相等時間がかかります。<code>--network=host</code>とかいうオプションが在った気がしますが。<br>
3. 最小状態のイメージしかない - 最小状態であるおかげでイメージのダウンロードは速いんですが、起動してから環境を設定するのが時間がかかりました。最小が好きならUbuntu使いません。<br>
4. コマンドはそれぞれのゲストにそれぞれインストールしなければならない - それぞれのゲストに対するプログラムやライブラリのインストールは当然それぞれ独立して行わなければなりません。これは本当にどうにもなりません。<br>
5. CUIエディタしか使えない - viが入っていればまだいいのですが、最初はviすら入っていないことも多いです。<br>
6. Guestツールがない - Docker最大のボトルネックはゲストとホストの行き来が多いことです。ホストに何かさせたいときゲストのコマンドラインからは操作できない。<br>
7. コマンドが未熟 - コマンドは未熟です。例えば<code>docker cp</code>は<code>cp</code>コマンドが持つ全てのオプションに対応しているわけではない、ゲストからホストにしか使えない、など。<br>
8. いわゆる再起動ができない - コンテナを立ち上げたり落としたりしてもサスペンドと同じ効果しかありません。これによってhaltしたときの効果を</p>

<h1>
<span id="対策" class="fragment"></span><a href="#%E5%AF%BE%E7%AD%96"><i class="fa fa-link"></i></a>対策</h1>

<ol>
<li>コンテナを立ち上げる際に常にマウントしておく。これでゲストに不必要に何かをインストールする手間が省けます。</li>
<li>インストールに時間がかかるものは使わない。例えば今回はgitを導入したのですが、とてつもなく時間がかかりました。よくよく考えればtarballをダウンロードして解凍すればよかったんです。まあwgetかcurlもインストールが必要ではありますが。これも1.で解決するのが早いです。</li>
<li>どうしてもゲストでしなければならないことはまとめてやる。ホストよりも時間がかかりますからできる限り効率的にするにはいちいちコマンドを実行する手間を省くことです。</li>
<li>byobuを導入しておく。一つのコンテナに複数接続する手段はいくつもありますが、byobuのタブ機能が最も役に立ちます。要するにCLIが苦手なんです。</li>
</ol>

<h1>
<span id="まとめ" class="fragment"></span><a href="#%E3%81%BE%E3%81%A8%E3%82%81"><i class="fa fa-link"></i></a>まとめ</h1>

<p>Dockerはまだまだエンドユーザや初心者には向いてません。mingwをあちこちにインストールするほうがまだましです。</p>
